{"mappings":"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","sources":["src/index.js","src/js/fiter-button-header/filter-button-header.js","src/js/pagination/pagination_genres.js","src/js/pagination/load_page.js","src/js/pagination/pagination.js"],"sourcesContent":["// header ========================\nimport './js/header/header';\nimport './js/fiter-button-header/filter-button-header';\nimport './js/up-button/_up-button';\nimport './js/firebase';\n\n// gallery ===========================\nimport './js/pagination/load_page';\n\nimport './js/gallery/poular_movie';\n\n// pagination=============\nimport './js/pagination/paginatin_search';\nimport './js/pagination/pagination_genres';\nimport './js/pagination/pagination';\n\n// feedback modal\nimport './js/feedback-modal/_feedback-modal';\n\n// footer ==============================\nimport './js/footer/footer-modal';\nimport './js/footer/modal-team';\nimport './js/footer/footer-modal-team';\n\n// modal movies ==============================\nimport './js/modal-movies/modal-movies';\nimport './js/modal-movies/modal-movie-buttons';\n\n\n// import './js/modal-movies/modal-movie-buttons';\n\n\n","import axios from 'axios';\nimport { createMoviesList } from '../gallery/poular_movie';\nimport { gallery } from '../gallery/poular_movie';\nimport createPagination from '../pagination/pagination_genres';\n// оглошую змінні\nlet genreId = 18;\n// оголошую констани\nconst BASE_URL = 'https://api.themoviedb.org/3/discover/movie';\nconst MY_KEY = 'api_key=102d4305e0abdbf0fd48836d5abb1978';\n// оголошую об'єкт подій\n// const refs = {\n//   filterList: document.querySelector('.genre-select'),\n// };\n// функція для запису масиву в локал строредж\nfunction addGenresToLocal(dataGenres) {\n  localStorage.setItem('genres', JSON.stringify(dataGenres));\n}\nfunction getGenresToLocal() {\n  const getGeners = localStorage.getItem('genres');\n  const parsedGeners = JSON.parse(getGeners);\n  // console.log(parsedGeners);\n  return parsedGeners;\n}\n// фунція для знаходженню та запису масиву жанрів з айдішками\nasync function fetchGenresToLocal() {\n  let urlObject = await axios.get(\n    `https://api.themoviedb.org/3/genre/movie/list?${MY_KEY}&language=en-US`\n  );\n  const data = urlObject.data;\n  const dataGenres = data.genres;\n\n  addGenresToLocal(dataGenres);\n}\n\nfetchGenresToLocal();\n\n// фетч для знаходження фільмів по жанрам\nasync function selectFilm(genreId) {\n  let urlObject = await axios.get(\n    `${BASE_URL}?${MY_KEY}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_genres=${genreId}`\n  );\n  const data = urlObject.data;\n  const dataStatus = urlObject.status;\n  const dataResults = data.results;\n\n  if (dataStatus === 200 && dataResults.length > 0) {\n    clearOldMarkup();\n    // console.log(data);\n    createPagination(data.total_results, genreId);\n    return data;\n  } else {\n    return 0;\n  }\n}\n// Функція для знаходження id жанру через перебирання масиву\nfunction findIdGenres(nameGenres) {\n  let selectedGenres = getGenresToLocal().find(\n    gener => gener.name === nameGenres\n  );\n  //console.log(selectedGenres);\n  return selectedGenres.id;\n}\n// функція події для рендеру розмітки\nasync function selectGenerButton(nameGenres) {\n  gallery.innerHTML = '';\n  genreId = findIdGenres(nameGenres);\n\n  const movies = await selectFilm(genreId);\n  // console.log(movies)\n  //gallery.innerHTML = '';\n  movies.results.forEach(movie => {\n    // console.log(movie);\n    const markup = createMoviesList(movie);\n\n    gallery.insertAdjacentHTML('beforeend', markup);\n  });\n}\n\n// refs.filterList.addEventListener(\"click\", selectGenerButton);\n\nconst select = document.querySelector('.genre-select');\n\nfunction createGenersList(genre) {\n  return `\n  <option class=\"genre-select__item\" value=\"${genre}\">${genre}</option>\n   `;\n}\n\nfunction getGenersInfo() {\n  const genres = getGenresToLocal();\n  // console.log(movies)\n  //const markup = '';\n  genres.forEach(genre => {\n    // console.log(movie);\n    const markup = createGenersList(genre.name);\n    select.insertAdjacentHTML('beforeend', markup);\n  });\n}\n\ngetGenersInfo();\n\nfunction clearOldMarkup() {\n  gallery.innerHTML = '';\n}\n\n$(select).each(function () {\n  const _this = $(this),\n    selectOption = _this.find('option'),\n    selectOptionLength = selectOption.length,\n    selectedOption = selectOption.filter(':selected'),\n    duration = 450; // длительность анимации\n\n  _this.hide();\n  _this.wrap('<div class=\"select\"></div>');\n  $('<div>', {\n    class: 'new-select',\n    text: _this.children('option:disabled').text(),\n  }).insertAfter(_this);\n\n  const selectHead = _this.next('.new-select');\n  $('<div>', {\n    class: 'new-select__list',\n  }).insertAfter(selectHead);\n\n  const selectList = selectHead.next('.new-select__list');\n\n  for (let i = 1; i < selectOptionLength; i++) {\n    $('<div>', {\n      class: 'new-select__item',\n      html: $('<span>', {\n        text: selectOption.eq(i).text(),\n      }),\n    })\n      .attr('data-value', selectOption.eq(i).val())\n      .appendTo(selectList);\n  }\n\n  const selectItem = selectList.find('.new-select__item');\n  selectList.slideUp(0);\n\n  selectHead.on('click', function () {\n    if (!$(this).hasClass('on')) {\n      $(this).addClass('on');\n      selectList.slideDown(duration);\n\n      selectItem.on('click', function () {\n        let chooseItem = $(this).data('value');\n        selectGenerButton(chooseItem);\n        $('select').val(chooseItem).attr('selected', 'selected');\n        selectHead.text($(this).find('span').text());\n\n        selectList.slideUp(duration);\n        selectHead.removeClass('on');\n      });\n    } else {\n      $(this).removeClass('on');\n      selectList.slideUp(duration);\n    }\n  });\n});\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.min.css';\nimport MoviesApi from '../api';\nimport getMoviesInfo from '../gallery/poular_movie';\n// import getMoviesInfo from '../fiter-button-header/filter-button-header';\n\nconst movies = new MoviesApi();\nconst gallery = document.querySelector('.gallery__list');\n\nexport default function createPagination(total_results, genreId) {\n  const container = document.getElementById('tui-pagination-container');\n  const options = {\n    totalItems: total_results,\n    itemsPerPage: 20,\n    visiblePages: 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const pagination = new Pagination(container, options);\n\n  pagination.off('afterMove', function (eventData) {\n    gallery.innerHTML = '';\n    movies.page = eventData.page;\n    movies.getPopularMovies().then(response => {\n      getMoviesInfo(response.data.results);\n    });\n  });\n\n  pagination.on('afterMove', function (eventData) {\n    //  console.log(genreId);\n    gallery.innerHTML = '';\n    movies.page = eventData.page;\n    movies.with_genres = genreId;\n    movies.getGenersMovies().then(response => {\n      // console.log(response.data);\n      getMoviesInfo(response.data.results);\n    });\n  });\n}\n","import getMoviesInfo from '../gallery/poular_movie';\nimport MoviesApi from '../api';\nimport createPagination from '../pagination/pagination';\n\nconst movies = new MoviesApi();\nconst gallery = document.querySelector('.gallery__list');\n\nexport default function loadPage() {\n  gallery.innerHTML = '';\n\n  movies.resetPage();\n  movies.getPopularMovies().then(response => {\n    createPagination(response.data.total_results);\n    getMoviesInfo(response.data.results);\n  });\n}\n\nloadPage();\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.min.css';\nimport MoviesApi from '../api';\nimport getMoviesInfo from '../gallery/poular_movie';\n\nconst movies = new MoviesApi();\nconst gallery = document.querySelector('.gallery__list');\n\nexport default function createPagination(total_results) {\n  const container = document.getElementById('tui-pagination-container');\n  let options = {\n    totalItems: total_results,\n    itemsPerPage: 20,\n    visiblePages: 5,\n    page: 1,\n    centerAlign: true,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n\n  const pagination = new Pagination(container, options);\n\n  pagination.on('afterMove', function (eventData) {\n    gallery.innerHTML = '';\n    movies.page = eventData.page;\n    movies.getPopularMovies().then(response => {\n      getMoviesInfo(response.data.results);\n    });\n  });\n}\n"],"names":["parcelRequire","$2shzp","$fb9GJ","$edab3802b4d88adb$var$movies","$7rYDH","default","$edab3802b4d88adb$var$gallery","document","querySelector","$edab3802b4d88adb$export$2e2bcd8739ae039","total_results","genreId","container","getElementById","options","totalItems","itemsPerPage","visiblePages","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","pagination","$parcel$interopDefault","off","eventData","innerHTML","getPopularMovies","then","response","$cElPN","data","results","on","with_genres","getGenersMovies","$0b51fd6bac3ee876$var$genreId","$0b51fd6bac3ee876$var$getGenresToLocal","getGeners","localStorage","getItem","JSON","parse","async","$0b51fd6bac3ee876$var$selectFilm","genreId1","urlObject","get","dataStatus","status","dataResults","length","gallery","$0b51fd6bac3ee876$var$selectGenerButton","nameGenres","find","gener","name","id","$0b51fd6bac3ee876$var$findIdGenres","forEach","movie","markup","createMoviesList","insertAdjacentHTML","dataGenres","setItem","stringify","$0b51fd6bac3ee876$var$addGenresToLocal","genres","$0b51fd6bac3ee876$var$fetchGenresToLocal","$0b51fd6bac3ee876$var$select","genre","$0b51fd6bac3ee876$var$createGenersList","$","each","_this","this","selectOption","selectOptionLength","filter","hide","wrap","class","text","children","insertAfter","selectHead","next","selectList","i","html","eq","attr","val","appendTo","selectItem","slideUp","hasClass","removeClass","addClass","slideDown","chooseItem","$6077aa4079e9cd36$var$movies","$6077aa4079e9cd36$var$gallery","$53ce042c8eb15153$var$movies","resetPage"],"version":3,"file":"index.7c2d0545.js.map"}