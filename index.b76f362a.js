!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=s),s("bWgPh");var i=s("bpxeT"),r=s("2TvXO"),l=s("dIxxU"),o=s("aKpRc"),c=(o=s("aKpRc"),s("1VFfL")),u=s("b7ONl"),p=(o=s("aKpRc"),new(0,u.default)),d=document.querySelector(".gallery__list");function f(t,n){var a=document.getElementById("tui-pagination-container"),s={totalItems:t,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},i=new(e(c))(a,s);i.off("afterMove",(function(e){d.innerHTML="",p.page=e.page,p.getPopularMovies().then((function(e){(0,o.default)(e.data.results)}))})),i.on("afterMove",(function(e){d.innerHTML="",p.page=e.page,p.with_genres=n,p.getGenersMovies().then((function(e){(0,o.default)(e.data.results)}))}))}var g=18,v="https://api.themoviedb.org/3/discover/movie",h="api_key=102d4305e0abdbf0fd48836d5abb1978";function m(e){localStorage.setItem("genres",JSON.stringify(e))}function y(){var e=localStorage.getItem("genres");return JSON.parse(e)}function b(){return(b=e(i)(e(r).mark((function t(){var n,a;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.get("https://api.themoviedb.org/3/genre/movie/list?".concat(h,"&language=en-US"));case 2:n=e.sent,a=n.data,m(a.genres);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function _(e){return w.apply(this,arguments)}function w(){return(w=e(i)(e(r).mark((function t(n){var a,s,i,o;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.get("".concat(v,"?").concat(h,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_genres=").concat(n));case 2:if(a=e.sent,s=a.data,i=a.status,o=s.results,!(200===i&&o.length>0)){e.next=12;break}return P(),f(s.total_results,n),e.abrupt("return",s);case 12:return e.abrupt("return",0);case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function x(e){return y().find((function(t){return t.name===e})).id}function M(){return(M=e(i)(e(r).mark((function t(n){return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.gallery.innerHTML="",g=x(n),e.next=4,_(g);case 4:e.sent.results.forEach((function(e){var t=(0,o.createMoviesList)(e);o.gallery.insertAdjacentHTML("beforeend",t)}));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}!function(){b.apply(this,arguments)}();var L=document.querySelector(".genre-select");function P(){o.gallery.innerHTML=""}y().forEach((function(e){var t=function(e){return'\n  <option class="genre-select__item" value="'.concat(e,'">').concat(e,"</option>\n   ")}(e.name);L.insertAdjacentHTML("beforeend",t)})),$(L).each((function(){var e=$(this),t=e.find("option"),n=t.length;t.filter(":selected");e.hide(),e.wrap('<div class="select"></div>'),$("<div>",{class:"new-select",text:e.children("option:disabled").text()}).insertAfter(e);var a=e.next(".new-select");$("<div>",{class:"new-select__list"}).insertAfter(a);for(var s=a.next(".new-select__list"),i=1;i<n;i++)$("<div>",{class:"new-select__item",html:$("<span>",{text:t.eq(i).text()})}).attr("data-value",t.eq(i).val()).appendTo(s);var r=s.find(".new-select__item");s.slideUp(0),a.on("click",(function(){$(this).hasClass("on")?($(this).removeClass("on"),s.slideUp(450)):($(this).addClass("on"),s.slideDown(450),r.on("click",(function(){var e=$(this).data("value");!function(e){M.apply(this,arguments)}(e),$("select").val(e).attr("selected","selected"),a.text($(this).find("span").text()),s.slideUp(450),a.removeClass("on")})))}))})),s("amAqm"),s("iNWLi");o=s("aKpRc"),u=s("b7ONl"),c=s("1VFfL"),u=s("b7ONl"),o=s("aKpRc");var T=new(0,u.default),N=document.querySelector(".gallery__list");var I=new(0,u.default);document.querySelector(".gallery__list").innerHTML="",I.resetPage(),I.getPopularMovies().then((function(t){var n,a,s;n=t.data.total_results,a=document.getElementById("tui-pagination-container"),s={totalItems:n,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},new(e(c))(a,s).on("afterMove",(function(e){N.innerHTML="",T.page=e.page,T.getPopularMovies().then((function(e){(0,o.default)(e.data.results)}))})),(0,o.default)(t.data.results)})),s("aKpRc"),s("64jLu"),s("gsWoA"),s("ckBNW"),s("gy8yx"),s("cgSqb"),s("91Izq"),s("e37jP")}();
//# sourceMappingURL=index.b76f362a.js.map
